# Discord Task Manager Chrome 拡張機能

Discord のメッセージからタスクを作成し、Asana と連携できる Chrome 拡張機能です。

## 機能

### 主要機能
- 📝 Discord メッセージからワンクリックでタスク作成
- 📋 自分のタスクと依頼したタスクを分けて管理
- 🔄 Asana との連携によるタスク同期
- 💾 ローカルストレージでのタスクデータ保存

### タスク管理機能
- タスクステータス管理（待機中/進行中/完了）
- 優先度設定（低/中/高）
- 期限設定
- 担当者指定
- 詳細説明追加

## インストール方法

### 1. ファイルの準備
1. この拡張機能のファイルをローカルにダウンロード
2. アイコンファイルを icons フォルダに追加（16x16, 48x48, 128x128 の PNG ファイル）

### 2. Chrome への読み込み
1. Chrome で `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」をオンにする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. ダウンロードしたフォルダを選択

## 使い方

### タスクの作成
1. Discord でメッセージにカーソルを合わせる
2. 表示される「タスク化」ボタンをクリック
3. タスク詳細を入力して「タスク作成」をクリック

### タスクの管理
1. 拡張機能アイコンをクリックしてポップアップを開く
2. 「自分のタスク」タブで自分に割り当てられたタスクを確認
3. 「依頼したタスク」タブで他の人に依頼したタスクを確認
4. 各タスクの「完了」ボタンでステータスを更新

### Asana 連携設定
1. ポップアップの「Asana設定」ボタンをクリック
2. 以下の情報を入力：
   - **Personal Access Token**: Asana の個人アクセストークン
   - **ワークスペースID**: 連携先の Asana ワークスペースID
   - **プロジェクトID**: タスクを作成する Asana プロジェクトID（オプション）

#### Asana Personal Access Token の取得方法
1. [Asana](https://app.asana.com) にログイン
2. 右上のプロフィールアイコン → 「My Settings」
3. 「Apps」タブ → 「Manage developer apps」
4. 「Create New Personal Access Token」
5. トークン名を入力して作成
6. 生成されたトークンをコピーして拡張機能に設定

#### ワークスペースIDとプロジェクトIDの取得方法
1. Asana で該当するプロジェクトを開く
2. ブラウザのアドレスバーから ID を確認
   - URL例: `https://app.asana.com/0/{ワークスペースID}/{プロジェクトID}`

## ファイル構成

```
discord-task-extension/
├── manifest.json          # 拡張機能の設定ファイル
├── popup.html             # ポップアップのHTML
├── popup.css              # ポップアップのスタイル
├── popup.js               # ポップアップの JavaScript
├── content.js             # Discord ページに注入されるスクリプト
├── content.css            # Discord ページ用のスタイル
├── background.js          # バックグラウンドスクリプト
├── icons/                 # アイコンファイル
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md              # このファイル
```

## 注意事項

### セキュリティ
- Asana のアクセストークンは安全に保管されます（Chrome の拡張機能ストレージ）
- トークンは他のウェブサイトからはアクセスできません

### 制限事項
- Discord と Asana でのみ動作します
- Asana の無料アカウントでも使用可能ですが、API制限があります
- Discord の UI変更により、ボタンが表示されない場合があります

### トラブルシューティング
1. **タスク化ボタンが表示されない**
   - ページを再読み込みしてください
   - Discord の UI が変更されている可能性があります

2. **Asana との同期に失敗する**
   - アクセストークンが正しいか確認してください
   - ワークスペースIDとプロジェクトIDが正しいか確認してください
   - Asana の API制限に達していないか確認してください

3. **タスクが保存されない**
   - Chrome の拡張機能が正しく読み込まれているか確認してください
   - ストレージ権限が許可されているか確認してください

## 開発

### 必要な権限
- `storage`: タスクデータの保存
- `activeTab`: 現在のタブへのアクセス
- `background`: バックグラウンド処理

### API使用
- Chrome Extensions API
- Asana REST API v1.0

## ライセンス

MIT License

## 更新履歴

### v1.0.0
- 初回リリース
- Discord メッセージからのタスク作成機能
- Asana 連携機能
- タスク管理UI